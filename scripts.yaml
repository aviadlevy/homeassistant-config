set_up_sonos_group:
  alias: Set up sonos group casting
  sequence:
  - data:
      is_volume_muted: false
    target:
      entity_id:
      - media_player.sonos_living_room
      - media_player.sonos_kitchen
      - media_player.sonos_kids_bedroom
    action: media_player.volume_mute
  - data:
      group_members:
      - media_player.sonos_living_room
      - media_player.sonos_kids_bedroom
    target:
      entity_id:
      - media_player.sonos_kitchen
    action: media_player.join
  - data:
      volume_level: 0.35
    target:
      entity_id:
      - media_player.sonos_living_room
    action: media_player.volume_set
  - data:
      volume_level: 0.5
    target:
      entity_id: media_player.sonos_kids_bedroom
    action: media_player.volume_set
  - data:
      volume_level: 0.4
    target:
      entity_id:
      - media_player.sonos_kitchen
    action: media_player.volume_set
  - delay:
      hours: 0
      minutes: 0
      seconds: 5
      milliseconds: 0
  mode: single
  icon: mdi:cast-connected
run_switcher_from_input:
  alias: Run Switcher From Input
  sequence:
  - service: switcher_kis.turn_on_with_timer
    data:
      timer_minutes: '{{ states(''input_number.switcher_timer_box'') | int }}'
    target:
      entity_id: switch.switcher_home
  mode: single
  icon: mdi:camera-timer
activate_hyperion:
  alias: Activate Hyperion
  sequence:
  - data:
      command: am start com.abrenoch.hyperiongrabber/com.abrenoch.hyperiongrabber.common.BootActivity
    target:
      entity_id: media_player.mitv_adb
    action: androidtv.adb_command
  - data: {}
    target:
      entity_id:
      - switch.hyperion_ng_tv_component_led_device
      - switch.first_led_hardware_instance_component_smoothing
    action: switch.turn_on
  mode: single
  icon: mdi:television
disable_hyperion:
  alias: Disable Hyperion
  sequence:
  - service: androidtv.adb_command
    data:
      command: am start com.abrenoch.hyperiongrabber/com.abrenoch.hyperiongrabber.common.ToggleActivity
    target:
      entity_id: media_player.mitv_adb
  - delay:
      hours: 0
      minutes: 0
      seconds: 3
      milliseconds: 0
  - service: light.turn_on
    data:
      color_temp: 500
      brightness_pct: 11
      effect: Solid
    target:
      entity_id: light.wled_backlight_tv
    enabled: true
  - service: light.turn_on
    data:
      color_temp: 288
      brightness_pct: 50
      effect: Solid
      transition: 15
    target:
      entity_id: light.wled_backlight_tv
    enabled: true
  mode: single
clean_carpet:
  alias: Clean Carpet
  sequence:
  - data:
      repeats: 2
      zone:
      - - -1850
        - -1649
        - 755
        - -405
    target:
      entity_id: vacuum.dreame_robot_vacuum_d9
    action: dreame_vacuum.vacuum_clean_zone
  mode: single
  icon: mdi:rug
echo_say_the_time:
  alias: Echo say the time
  sequence:
  - action: chime_tts.say
    metadata: {}
    data:
      language: iw
      cache: true
      tts_platform: google_translate
      message: "{% if now().strftime('%H')|int < 12 and now().strftime('%H')|int >
        4 %}\n   בוקר טוב!\n{% elif now().strftime('%H')|int >= 12 and now().strftime('%H')|int
        < 16 %}\n   אחר הצהריים טובים!\n{% else %}\n   ערב טוב!\n{% endif %}השעה  {{
        now().strftime('%I') | int }} {% if (now().strftime('%M')|int) != 0 %} ו{{
        now().strftime('%M') }} דקות. {% endif %}"
      chime_path: ding_dong
    target:
      entity_id: media_player.bedroom_echo_dot
  mode: single
  icon: mdi:clock-time-eight
get_random_song_from_playlist:
  alias: Play random song from playlist
  sequence:
  - action: spotifyplus.get_playlist_items
    data:
      entity_id: media_player.spotifyplus_aviad
      playlist_id: '{{ playlist_id }}'
      fields: items.track.uri
    response_variable: result
  - data:
      media_content_type: track
      media_content_id: '    {% set randomsong = result[''result''][''items''] | random
        %} {{     randomsong.track.uri }}'
    target:
      entity_id: media_player.sonos_living_room
    action: media_player.play_media
  description: ''
  fields:
    playlist_id:
      selector:
        text:
      name: Playlist ID
      required: true
  icon: mdi:play
fire_event_suggest_song:
  sequence:
  - event: suggest_a_song
    event_data: {}
  alias: Fire event - suggest song
  description: ''
set_up_sonos_group_music_casting:
  sequence:
  - data:
      is_volume_muted: false
    target:
      entity_id:
      - media_player.sonos_living_room
      - media_player.sonos_kitchen
      - media_player.sonos_kids_bedroom
    action: media_player.volume_mute
  - data:
      group_members:
      - media_player.sonos_living_room
      - media_player.sonos_kids_bedroom
    target:
      entity_id:
      - media_player.sonos_kitchen
    action: media_player.join
  - data:
      volume_level: 0.23
    target:
      entity_id:
      - media_player.sonos_living_room
    action: media_player.volume_set
  - data:
      volume_level: 0.4
    target:
      entity_id: media_player.sonos_kids_bedroom
    action: media_player.volume_set
  - data:
      volume_level: 0.3
    target:
      entity_id:
      - media_player.sonos_kitchen
    action: media_player.volume_set
  - delay:
      hours: 0
      minutes: 0
      seconds: 5
      milliseconds: 0
  alias: Set up sonos group music casting
  mode: single
  icon: mdi:cast
  description: ''
clean_living_room:
  sequence:
  - action: dreame_vacuum.vacuum_clean_segment
    metadata: {}
    data:
      segments: 11
      repeats: 1
    target:
      entity_id: vacuum.dreame_robot_vacuum_d9
  alias: Clean living room
  description: ''
